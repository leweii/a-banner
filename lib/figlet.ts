// Self-contained ASCII art generator - no external font files needed

// Block-style font (5 lines tall)
const BLOCK_FONT: Record<string, string[]> = {
  'A': ['  █████  ', ' ██   ██ ', ' ███████ ', ' ██   ██ ', ' ██   ██ '],
  'B': [' ██████  ', ' ██   ██ ', ' ██████  ', ' ██   ██ ', ' ██████  '],
  'C': ['  ██████ ', ' ██      ', ' ██      ', ' ██      ', '  ██████ '],
  'D': [' ██████  ', ' ██   ██ ', ' ██   ██ ', ' ██   ██ ', ' ██████  '],
  'E': [' ███████ ', ' ██      ', ' █████   ', ' ██      ', ' ███████ '],
  'F': [' ███████ ', ' ██      ', ' █████   ', ' ██      ', ' ██      '],
  'G': ['  ██████ ', ' ██      ', ' ██  ███ ', ' ██   ██ ', '  ██████ '],
  'H': [' ██   ██ ', ' ██   ██ ', ' ███████ ', ' ██   ██ ', ' ██   ██ '],
  'I': [' ███ ', ' ██  ', ' ██  ', ' ██  ', ' ███ '],
  'J': ['      ██ ', '      ██ ', '      ██ ', ' ██   ██ ', '  █████  '],
  'K': [' ██   ██ ', ' ██  ██  ', ' █████   ', ' ██  ██  ', ' ██   ██ '],
  'L': [' ██      ', ' ██      ', ' ██      ', ' ██      ', ' ███████ '],
  'M': [' ███   ███ ', ' ████ ████ ', ' ██ ███ ██ ', ' ██     ██ ', ' ██     ██ '],
  'N': [' ███    ██ ', ' ████   ██ ', ' ██ ██  ██ ', ' ██  ██ ██ ', ' ██   ████ '],
  'O': ['  █████  ', ' ██   ██ ', ' ██   ██ ', ' ██   ██ ', '  █████  '],
  'P': [' ██████  ', ' ██   ██ ', ' ██████  ', ' ██      ', ' ██      '],
  'Q': ['  █████  ', ' ██   ██ ', ' ██   ██ ', ' ██  ██  ', '  ████ █ '],
  'R': [' ██████  ', ' ██   ██ ', ' ██████  ', ' ██  ██  ', ' ██   ██ '],
  'S': ['  █████  ', ' ██      ', '  █████  ', '      ██ ', '  █████  '],
  'T': [' ███████ ', '   ██    ', '   ██    ', '   ██    ', '   ██    '],
  'U': [' ██   ██ ', ' ██   ██ ', ' ██   ██ ', ' ██   ██ ', '  █████  '],
  'V': [' ██   ██ ', ' ██   ██ ', ' ██   ██ ', '  ██ ██  ', '   ███   '],
  'W': [' ██     ██ ', ' ██     ██ ', ' ██  █  ██ ', ' ██ ███ ██ ', '  ███ ███  '],
  'X': [' ██   ██ ', '  ██ ██  ', '   ███   ', '  ██ ██  ', ' ██   ██ '],
  'Y': [' ██   ██ ', '  ██ ██  ', '   ███   ', '   ██    ', '   ██    '],
  'Z': [' ███████ ', '     ██  ', '   ██    ', '  ██     ', ' ███████ '],
  '0': ['  █████  ', ' ██  ███ ', ' ██ █ ██ ', ' ███  ██ ', '  █████  '],
  '1': ['   ██  ', ' ████  ', '   ██  ', '   ██  ', ' ██████'],
  '2': ['  █████  ', ' ██   ██ ', '    ███  ', '  ██     ', ' ███████ '],
  '3': ['  █████  ', '      ██ ', '   ████  ', '      ██ ', '  █████  '],
  '4': [' ██  ██  ', ' ██  ██  ', ' ███████ ', '     ██  ', '     ██  '],
  '5': [' ███████ ', ' ██      ', ' ██████  ', '      ██ ', ' ██████  '],
  '6': ['  █████  ', ' ██      ', ' ██████  ', ' ██   ██ ', '  █████  '],
  '7': [' ███████ ', '     ██  ', '    ██   ', '   ██    ', '   ██    '],
  '8': ['  █████  ', ' ██   ██ ', '  █████  ', ' ██   ██ ', '  █████  '],
  '9': ['  █████  ', ' ██   ██ ', '  ██████ ', '      ██ ', '  █████  '],
  ' ': ['     ', '     ', '     ', '     ', '     '],
  '!': [' ██ ', ' ██ ', ' ██ ', '    ', ' ██ '],
  '?': ['  ████  ', ' ██  ██ ', '    ██  ', '        ', '    ██  '],
  '.': ['    ', '    ', '    ', '    ', ' ██ '],
  ',': ['    ', '    ', '    ', ' ██ ', '██  '],
  '-': ['        ', '        ', ' ██████ ', '        ', '        '],
  '_': ['        ', '        ', '        ', '        ', '████████'],
  ':': ['    ', ' ██ ', '    ', ' ██ ', '    '],
  ';': ['    ', ' ██ ', '    ', ' ██ ', '█   '],
  "'": [' ██ ', ' ██ ', '    ', '    ', '    '],
  '"': [' ██ ██ ', ' ██ ██ ', '       ', '       ', '       '],
  '@': ['  █████  ', ' ██  ███ ', ' ██ █ ██ ', ' ██  ██  ', '  █████  '],
  '#': [' ██  ██  ', '████████ ', ' ██  ██  ', '████████ ', ' ██  ██  '],
  '$': ['  █████  ', ' █ ██    ', '  █████  ', '    ██ █ ', '  █████  '],
  '%': [' ██   ██ ', '     ██  ', '    ██   ', '   ██    ', ' ██   ██ '],
  '&': ['  ████   ', ' ██  ██  ', '  ████ █ ', ' ██  ██  ', '  ███ ██ '],
  '*': ['         ', ' ██   ██ ', '   ███   ', ' ██   ██ ', '         '],
  '(': ['   ██ ', '  ██  ', '  ██  ', '  ██  ', '   ██ '],
  ')': [' ██   ', '  ██  ', '  ██  ', '  ██  ', ' ██   '],
  '+': ['        ', '   ██   ', ' ██████ ', '   ██   ', '        '],
  '=': ['        ', ' ██████ ', '        ', ' ██████ ', '        '],
  '/': ['      ██ ', '     ██  ', '    ██   ', '   ██    ', '  ██     '],
  '\\': [' ██      ', '  ██     ', '   ██    ', '    ██   ', '     ██  '],
  '[': [' ████ ', ' ██   ', ' ██   ', ' ██   ', ' ████ '],
  ']': [' ████ ', '   ██ ', '   ██ ', '   ██ ', ' ████ '],
  '{': ['   ██ ', '  ██  ', ' ██   ', '  ██  ', '   ██ '],
  '}': [' ██   ', '  ██  ', '   ██ ', '  ██  ', ' ██   '],
  '<': ['    ██ ', '  ██   ', ' ██    ', '  ██   ', '    ██ '],
  '>': [' ██    ', '   ██  ', '    ██ ', '   ██  ', ' ██    '],
  '`': [' ██  ', '  ██ ', '     ', '     ', '     '],
  '~': ['        ', ' ██   █ ', '█  ███  ', '        ', '        '],
  '^': ['   █   ', '  ███  ', ' ██ ██ ', '       ', '       '],
};

// Slim font (3 lines tall)
const SLIM_FONT: Record<string, string[]> = {
  'A': [' /\\  ', '/--\\ ', '/  \\ '],
  'B': ['|_) ', '|_) ', '|_) '],
  'C': [' _ ', '|  ', '|_ '],
  'D': ['|_\\ ', '| \\ ', '|_/ '],
  'E': ['|_ ', '|_ ', '|_ '],
  'F': ['|_ ', '|_ ', '|  '],
  'G': [' _ ', '|  ', '|_]'],
  'H': ['|_| ', '| | ', '| | '],
  'I': ['| ', '| ', '| '],
  'J': [' | ', ' | ', '_| '],
  'K': ['|_/ ', '| \\ ', '|  \\'],
  'L': ['|  ', '|  ', '|_ '],
  'M': ['|\\/| ', '|  | ', '|  | '],
  'N': ['|\\ | ', '| \\| ', '|  | '],
  'O': [' _  ', '/ \\ ', '\\_/ '],
  'P': ['|_) ', '|   ', '|   '],
  'Q': [' _  ', '/ \\ ', '\\_X '],
  'R': ['|_) ', '| \\ ', '|  \\'],
  'S': [' _ ', '|_ ', ' _|'],
  'T': ['_|_ ', ' |  ', ' |  '],
  'U': ['| | ', '| | ', '|_| '],
  'V': ['\\ / ', ' V  ', '    '],
  'W': ['|  | ', '|/\\| ', '    '],
  'X': ['\\ / ', ' X  ', '/ \\ '],
  'Y': ['\\ / ', ' |  ', ' |  '],
  'Z': ['__ ', ' / ', '/_ '],
  '0': [' _  ', '/ \\ ', '\\_/ '],
  '1': [' | ', ' | ', ' | '],
  '2': [' _  ', ' _| ', '|_  '],
  '3': ['_  ', '_| ', '_| '],
  '4': ['    ', '|_| ', '  | '],
  '5': [' _  ', '|_  ', ' _| '],
  '6': [' _  ', '|_  ', '|_| '],
  '7': ['__ ', ' / ', '/  '],
  '8': [' _  ', '|_| ', '|_| '],
  '9': [' _  ', '|_| ', ' _| '],
  ' ': ['   ', '   ', '   '],
  '!': ['| ', '| ', '. '],
  '?': [' _ ', ' _|', ' . '],
  '.': ['  ', '  ', '. '],
  '-': ['   ', '-- ', '   '],
  '_': ['   ', '   ', '__'],
};

// Banner font (7 lines tall, using # characters)
const BANNER_FONT: Record<string, string[]> = {
  'A': ['   #   ', '  # #  ', ' #   # ', ' ##### ', ' #   # ', ' #   # ', ' #   # '],
  'B': [' ####  ', ' #   # ', ' #   # ', ' ####  ', ' #   # ', ' #   # ', ' ####  '],
  'C': ['  #### ', ' #     ', ' #     ', ' #     ', ' #     ', ' #     ', '  #### '],
  'D': [' ####  ', ' #   # ', ' #   # ', ' #   # ', ' #   # ', ' #   # ', ' ####  '],
  'E': [' ##### ', ' #     ', ' #     ', ' ####  ', ' #     ', ' #     ', ' ##### '],
  'F': [' ##### ', ' #     ', ' #     ', ' ####  ', ' #     ', ' #     ', ' #     '],
  'G': ['  #### ', ' #     ', ' #     ', ' #  ## ', ' #   # ', ' #   # ', '  #### '],
  'H': [' #   # ', ' #   # ', ' #   # ', ' ##### ', ' #   # ', ' #   # ', ' #   # '],
  'I': [' ### ', '  #  ', '  #  ', '  #  ', '  #  ', '  #  ', ' ### '],
  'J': ['    # ', '    # ', '    # ', '    # ', '    # ', ' #  # ', '  ##  '],
  'K': [' #   # ', ' #  #  ', ' # #   ', ' ##    ', ' # #   ', ' #  #  ', ' #   # '],
  'L': [' #     ', ' #     ', ' #     ', ' #     ', ' #     ', ' #     ', ' ##### '],
  'M': [' #   # ', ' ## ## ', ' # # # ', ' #   # ', ' #   # ', ' #   # ', ' #   # '],
  'N': [' #   # ', ' ##  # ', ' # # # ', ' #  ## ', ' #   # ', ' #   # ', ' #   # '],
  'O': ['  ###  ', ' #   # ', ' #   # ', ' #   # ', ' #   # ', ' #   # ', '  ###  '],
  'P': [' ####  ', ' #   # ', ' #   # ', ' ####  ', ' #     ', ' #     ', ' #     '],
  'Q': ['  ###  ', ' #   # ', ' #   # ', ' #   # ', ' # # # ', ' #  #  ', '  ## # '],
  'R': [' ####  ', ' #   # ', ' #   # ', ' ####  ', ' # #   ', ' #  #  ', ' #   # '],
  'S': ['  #### ', ' #     ', ' #     ', '  ###  ', '     # ', '     # ', ' ####  '],
  'T': [' ##### ', '   #   ', '   #   ', '   #   ', '   #   ', '   #   ', '   #   '],
  'U': [' #   # ', ' #   # ', ' #   # ', ' #   # ', ' #   # ', ' #   # ', '  ###  '],
  'V': [' #   # ', ' #   # ', ' #   # ', ' #   # ', ' #   # ', '  # #  ', '   #   '],
  'W': [' #   # ', ' #   # ', ' #   # ', ' # # # ', ' # # # ', ' ## ## ', ' #   # '],
  'X': [' #   # ', ' #   # ', '  # #  ', '   #   ', '  # #  ', ' #   # ', ' #   # '],
  'Y': [' #   # ', ' #   # ', '  # #  ', '   #   ', '   #   ', '   #   ', '   #   '],
  'Z': [' ##### ', '     # ', '    #  ', '   #   ', '  #    ', ' #     ', ' ##### '],
  '0': ['  ###  ', ' #   # ', ' #  ## ', ' # # # ', ' ##  # ', ' #   # ', '  ###  '],
  '1': ['   #   ', '  ##   ', '   #   ', '   #   ', '   #   ', '   #   ', ' ##### '],
  '2': ['  ###  ', ' #   # ', '     # ', '   ##  ', '  #    ', ' #     ', ' ##### '],
  '3': ['  ###  ', ' #   # ', '     # ', '   ##  ', '     # ', ' #   # ', '  ###  '],
  '4': ['    #  ', '   ##  ', '  # #  ', ' #  #  ', ' ##### ', '    #  ', '    #  '],
  '5': [' ##### ', ' #     ', ' ####  ', '     # ', '     # ', ' #   # ', '  ###  '],
  '6': ['  ###  ', ' #     ', ' #     ', ' ####  ', ' #   # ', ' #   # ', '  ###  '],
  '7': [' ##### ', '     # ', '    #  ', '   #   ', '  #    ', '  #    ', '  #    '],
  '8': ['  ###  ', ' #   # ', ' #   # ', '  ###  ', ' #   # ', ' #   # ', '  ###  '],
  '9': ['  ###  ', ' #   # ', ' #   # ', '  #### ', '     # ', '     # ', '  ###  '],
  ' ': ['       ', '       ', '       ', '       ', '       ', '       ', '       '],
  '!': ['  #  ', '  #  ', '  #  ', '  #  ', '  #  ', '     ', '  #  '],
  '?': [' ###  ', '#   # ', '    # ', '   #  ', '  #   ', '      ', '  #   '],
  '.': ['   ', '   ', '   ', '   ', '   ', '   ', ' # '],
  '-': ['      ', '      ', '      ', ' #### ', '      ', '      ', '      '],
  '_': ['      ', '      ', '      ', '      ', '      ', '      ', '######'],
};

type FontType = 'block' | 'slim' | 'banner';

const FONTS: Record<FontType, Record<string, string[]>> = {
  block: BLOCK_FONT,
  slim: SLIM_FONT,
  banner: BANNER_FONT,
};

const FONT_HEIGHTS: Record<FontType, number> = {
  block: 5,
  slim: 3,
  banner: 7,
};

const AVAILABLE_FONTS = ['block', 'slim', 'banner'] as const;

export type FontName = (typeof AVAILABLE_FONTS)[number];

export function getAvailableFonts(): FontName[] {
  return [...AVAILABLE_FONTS];
}

export async function generateAscii(text: string, font: FontName = 'block'): Promise<string> {
  if (!text || text.trim() === '') {
    throw new Error('Text is required');
  }

  const fontData = FONTS[font];
  const height = FONT_HEIGHTS[font];
  const upperText = text.toUpperCase();

  const lines: string[] = Array(height).fill('');

  for (const char of upperText) {
    const charData = fontData[char] || fontData[' '];
    if (charData) {
      for (let i = 0; i < height; i++) {
        lines[i] += charData[i] || '';
      }
    }
  }

  return lines.join('\n');
}
